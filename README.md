# 7in5v2 E-Paper Screen Test

## 简介

目前购入了来自微雪的 7.5 寸黑白墨水屏以及 ESP32 墨水屏驱动模块用于尝试墨水屏开发。为了能研究 ESP32 如何驱动墨水屏，并为后续开发做好基础，我创建了这个仓库专门用于测试墨水屏的各项性能、完善开发流程中所需的库，并自行实现并封装一些方法。

## 项目框架

代码框架结构基于 **PlatformIO**；开发平台基于 **Arduino**。

## 待办

* [x] 我™好像在提交 cc6f8fa 错误地引用了 7in5b-V2 的库，那是一个增加了红色的墨水屏，改过来！

* [x] 获取墨水屏的源代码库
* [ ] 自行实现、封装所需方法
* [x] 测试全局刷新并显示内容
* [ ] 测试快速刷新并显示内容
* [x] 测试局部刷新
* [ ] 评估不同刷新模式的适用场景
* [ ] 测试硬件联动
    * [ ] 开关或滚轮
    * [ ] RTC 模块
    * [ ] 外部存储模块（如 Micro SD）
* [ ] 制作完整 demo（实现后续开发中可能需要的尽可能多的内容）
    * [ ] 时间（模拟、数字时钟形式）、日历显示 & 刷新
    * [ ] 综合资讯（天气、新闻、个人待办事项等）显示 & 刷新
    * [ ] 图片显示
    * [ ] 文字阅读显示（涉及字库设计）
       * [ ] 纯文本文档
       * [ ] Markdown、RTF、EPUB 等格式电子书文档
       * [ ] PDF 文档
          * [ ] 支持多倍缩放
    * [ ] 背单词界面显示
* [ ] 总结并导出通用的自定义库和开发方法
* [ ] 定制便携外壳

## 硬件信息

### 墨水屏 Waveshare 7.5inch e-Paper HAT 参数

参考：<https://www.waveshare.net/wiki/7.5inch_e-Paper_HAT_Manual>

* **尺寸**: 7.5 英寸
* **驱动板尺寸**: 65.0 mm × 30.2 mm
* **显示尺寸**: 163.2 mm × 97.92 mm
* **外形尺寸（裸屏）**: 170.2 mm × 111.2 mm × 1.18 mm
* **外形尺寸（贴合屏）**: 177.2 mm × 118.2 mm
* **工作电压**: 3.3 V / 5 V（IO 电平电压要和供电电压一致）
* **通信接口**: SPI
* **点距**: 0.205 mm × 0.204 mm
* **分辨率**: 800 × 480
* **显示颜色**: 黑、白
* **灰度等级**: 2
* **刷新时间**: 5 s
* **局刷时间**: 0.4 s
* **快刷时间**: 1.2 s
* **刷新功耗**: 26.4 mW（typ.）
* **休眠电流**: < 0.01 uA（接近 0）
* **工作温度**: 0 ~ 50 ℃
* **存储温度**: -25 ~ 70 ℃

### 专用驱动板 Waveshare E-Paper ESP32 Driver Board 参数

参考：<https://www.waveshare.net/wiki/E-Paper_ESP32_Driver_Board>

* **WiFi 标准**: 802.11b/g/n
* **通信接口**:  SPI/IIC
* **蓝牙标准**: 4.2，包含传统蓝牙 (BR/EDR) 和低功耗蓝牙 (BLE)
* **通信接口**: 3-wire SPI、4-wire SPI (默认)
* **工作电压**: 5 V
* **工作电流**: 50 mA ~ 150 mA
* **外形尺寸**: 29.46 mm x 48.25 mm
* **Flash 大小**: 4 MB
* **SRAM 大小**: 520 KB
* **ROM 大小**: 448 KB

### 功能引脚映射

| 功能引脚 | ESP32 | 描述 |
| ---- | ---- | ---- |
| VCC | 3V3 | 电源正 (3.3V 电源输入) |
| GND | GND | 电源地 |
| DIN | P14 | SPI的MOSI，数据输入 |
| SCLK | P13 | SPI的CLK，时钟信号输入 |
| CS | P15 | 片选，低电平有效 |
| DC | P27 | 数据/命令，低电平表示命令，高电平表示数据 |
| RST | P26 | 复位，低电平有效 |
| BUSY | P25 | 忙状态输出引脚（表示忙碌）|

## 许可

本项目代码主要以 GNU Affero General Public License 第 3 版许可证授权。

微雪代码库以其使用的许可证（包括 LGPLv2.1 等）授权。

您可以在 GNU Affero General Public License 第 3 版或您想使用的更新的版本下修改并且/或者转载。

详见 <https://www.gnu.org/licenses/>。

---

Leisquid Tianyi Li

